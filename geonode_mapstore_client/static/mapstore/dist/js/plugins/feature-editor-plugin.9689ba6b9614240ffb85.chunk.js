(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[96336,56399],{807878:(e,t,r)=>{"use strict";r.d(t,{E6:()=>a,vo:()=>u,l1:()=>c,J9:()=>f,U:()=>l,z8:()=>s,ql:()=>p,O_:()=>y,M$:()=>d,Ug:()=>g,p5:()=>b,Fz:()=>v,WZ:()=>m,bP:()=>O,On:()=>E,d_:()=>w,xM:()=>S,bl:()=>h,Wi:()=>T,PN:()=>F,_M:()=>P,Wm:()=>_,Eg:()=>M,V1:()=>A,cY:()=>R,RD:()=>j,Hl:()=>I,co:()=>D,uY:()=>L,H8:()=>G,je:()=>k,go:()=>C,_8:()=>x,xd:()=>U,o7:()=>N,Nr:()=>Y,Gf:()=>V,nh:()=>z,Rf:()=>H,Xp:()=>B,D6:()=>Q,Sm:()=>q,Ef:()=>W,qu:()=>Z,LY:()=>$,ZC:()=>X,c1:()=>K,jW:()=>J,kQ:()=>ee,JG:()=>te,js:()=>re,q$:()=>ne,OZ:()=>oe,Nc:()=>ie,NV:()=>ae,I5:()=>ue,QL:()=>ce,I:()=>fe,ku:()=>le,EU:()=>se,IV:()=>pe,HT:()=>ye,lg:()=>de,ds:()=>ge,VF:()=>be,DD:()=>ve,uo:()=>me,Ry:()=>Oe,ZH:()=>Ee,AQ:()=>we,yC:()=>Se,F:()=>he,mc:()=>Te,uM:()=>Pe,eJ:()=>_e,uP:()=>Me,N5:()=>Ae,bn:()=>Re,Bm:()=>je,F2:()=>Ie,jR:()=>De,$J:()=>Le,ln:()=>Ge});var n=r(375875),o=r.n(n);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}var a="ADD_FILTER_FIELD",u="REMOVE_FILTER_FIELD",c="UPDATE_FILTER_FIELD",f="UPDATE_EXCEPTION_FIELD",l="ADD_GROUP_FIELD",s="UPDATE_LOGIC_COMBO",p="REMOVE_GROUP_FIELD",y="CHANGE_CASCADING_VALUE",d="EXPAND_ATTRIBUTE_PANEL",g="EXPAND_SPATIAL_PANEL",b="QUERYFORM:EXPAND_CROSS_LAYER",v="QUERYFORM:SET_CROSS_LAYER_PARAMETER",m="QUERYFORM:RESET_CROSS_LAYER_FILTER",O="SELECT_SPATIAL_METHOD",E="SELECT_VIEWPORT_SPATIAL_METHOD",w="UPDATE_GEOMETRY",S="SELECT_SPATIAL_OPERATION",h="CHANGE_SPATIAL_ATTRIBUTE",T="CHANGE_SPATIAL_FILTER_VALUE",F="REMOVE_SPATIAL_SELECT",P="SHOW_SPATIAL_DETAILS",_="QUERY_FORM_SEARCH",M="QUERY_FORM_RESET",A="SHOW_GENERATED_FILTER",R="CHANGE_DWITHIN_VALUE",j="ZONE_SEARCH",I="ZONE_SEARCH_ERROR",D="ZONE_FILTER",L="ZONE_CHANGE",G="ZONES_RESET",k="SIMPLE_FILTER_FIELD_UPDATE",C="ADD_SIMPLE_FILTER_FIELD",x="REMOVE_SIMPLE_FILTER_FIELD",U="REMOVE_ALL_SIMPLE_FILTER_FIELDS",N="UPDATE_FILTER_FIELD_OPTIONS",Y="LOADING_FILTER_FIELD_OPTIONS",V="QUERYFORM:ADD_CROSS_LAYER_FILTER_FIELD",z="QUERYFORM:UPDATE_CROSS_LAYER_FILTER_FIELD",H="QUERYFORM:REMOVE_CROSS_LAYER_FILTER_FIELD",B="QUERYFORM:UPDATE_CROSS_LAYER_FILTER_FIELD_OPTIONS",Q="SET_AUTOCOMPLETE_MODE",q="TOGGLE_AUTOCOMPLETE_MENU",W="QUERYFORM:LOAD_FILTER",Z="QUERYFORM:UPSERT_FILTERS",$="QUERYFORM:REMOVE_FILTERS",X="QUERYFORM:CHANGE_MAP_EDITOR",K=function(e){return{type:X,mapData:e}};function J(e){return{type:a,groupId:e}}function ee(e,t){return{type:l,groupId:e,index:t}}function te(e){return{type:u,rowId:e}}function re(e,t){return{type:q,rowId:e,status:t,layerFilterType:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"filterField"}}function ne(e,t,r,n){return{type:c,rowId:e,fieldName:t,fieldValue:r,fieldType:n,fieldOptions:arguments.length>4&&void 0!==arguments[4]?arguments[4]:{}}}function oe(e,t){return{type:f,rowId:e,exceptionMessage:t}}function ie(e,t){return{type:s,groupId:e,logic:t}}function ae(e){return{type:Q,status:e}}function ue(e){return{type:p,groupId:e}}function ce(e){return{type:y,attributes:e}}function fe(e){return{type:d,expand:e}}function le(e){return{type:g,expand:e}}function se(e){return{type:b,expand:e}}function pe(e,t){return{type:v,key:e,value:t}}function ye(e,t){return{type:O,fieldName:t,method:e}}function de(){return{type:E}}function ge(e){return{type:w,geometry:e}}function be(e,t){return{type:S,fieldName:t,operation:e}}function ve(e){return{type:h,attribute:e}}function me(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.feature,r=e.srsName,n=e.collectGeometries,o=e.style,i=e.options,a=e.value;return{type:T,value:a,collectGeometries:n,options:i,geometry:t&&t.geometry,feature:t,srsName:r,style:o}}function Oe(){return{type:F}}function Ee(e){return{type:P,show:e}}function we(e){return{type:R,distance:e}}function Se(e,t){return{type:_,searchUrl:e,filterObj:t}}function he(e){return{type:W,filter:e}}function Te(e){return{type:M,skip:e}}function Fe(e,t){return{type:I,error:e,id:t}}function Pe(e,t){return{type:j,active:e,id:t}}function _e(e,t,r){return function(n){return o().post(e,t,{timeout:1e4,headers:{Accept:"application/json","Content-Type":"text/plain"}}).then((function(o){var a=o.data;if("object"!==i(a))try{a=JSON.parse(a)}catch(o){n(Fe("Search result broken ("+e+":   "+t+"): "+o.message,r))}n(function(e,t){return{type:D,data:e,id:t}}(a,r)),n(Pe(!1,r))})).catch((function(e){n(Fe(e,r))}))}}function Me(e,t){return{type:L,id:e,value:t}}function Ae(e){return{type:V,rowId:(new Date).getTime(),groupId:e}}function Re(e,t,r,n){return{type:z,rowId:e,fieldName:t,fieldValue:r,fieldType:n,fieldOptions:arguments.length>4&&void 0!==arguments[4]?arguments[4]:{}}}function je(e){return{type:H,rowId:e}}function Ie(){return{type:m}}function De(e,t){return{type:Y,status:e,filterField:t,layerFilterType:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"filterField"}}function Le(e,t,r){return{type:N,filterField:e,options:t,valuesCount:r}}function Ge(e,t,r){return{type:B,filterField:e,options:t,valuesCount:r}}},95797:(e,t,r)=>{"use strict";r.d(t,{DR:()=>n,S0:()=>o,u7:()=>i,lj:()=>a,yz:()=>u,lN:()=>c,zW:()=>f,Yx:()=>l,VN:()=>s,Hu:()=>p,VT:()=>y,RD:()=>d,Qq:()=>g,R1:()=>b,_T:()=>v,vO:()=>m,XO:()=>O,jG:()=>E,Xc:()=>w,gT:()=>S,rG:()=>h,t3:()=>T,Fs:()=>F,w_:()=>P,Lm:()=>_,rh:()=>M,rP:()=>A,IO:()=>R}),r(375875);var n="LAYER_SELECTED_FOR_SEARCH",o="FEATURE_TYPE_SELECTED",i="FEATURE_TYPE_LOADED",a="FEATURE_LOADED",u="FEATURE_LOADING",c="FEATURE_TYPE_ERROR",f="FEATURE_ERROR",l="QUERY_CREATE",s="QUERY:UPDATE_QUERY",p="QUERY_RESULT",y="QUERY_ERROR",d="RESET_QUERY",g="QUERY",b="INIT_QUERY_PANEL",v="QUERY:TOGGLE_SYNC_WMS",m="QUERY:TOGGLE_LAYER_FILTER";function O(){return{type:v}}function E(){return{type:m}}function w(){return{type:b}}function S(e,t){return{type:o,url:e,typeName:t,fields:arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],owner:arguments.length>3?arguments[3]:void 0}}function h(e,t,r){return{type:i,typeName:e,featureType:t,owner:r}}function T(e,t){return{type:c,typeName:e,error:t}}function F(e){return{type:u,isLoading:e}}function P(e,t,r,n,o){return{type:p,searchUrl:t,filterObj:r,result:e,queryOptions:n,reason:o}}function _(e){return{type:y,error:e}}function M(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.updates,r=e.reason,n=e.useLayerFilter;return{type:s,updates:t,reason:r,useLayerFilter:n}}function A(e,t,r){return{type:l,searchUrl:e,filterObj:t,owner:r}}function R(e,t,r,n){return{type:g,searchUrl:e,filterObj:t,queryOptions:r,reason:n}}},532425:(e,t,r)=>{"use strict";r.d(t,{Z:()=>p});var n=r(675263),o=r.n(n),i=r(124852),a=r.n(i);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){var n,o,i,a;n=e,o=t,i=r[t],a=function(e,t){if("object"!=u(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o),(o="symbol"==u(a)?a:String(a))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var l=function(e){return e>100?"full":e>40?"medium":"small"},s=function(e){var t=e.size,r=e.style,n=void 0===r?{}:r,o=e.className,i=e.hidden;return a().createElement("div",{className:o,style:f({width:t,height:t,overflow:"hidden"},n)},!i&&a().createElement("div",{className:"mapstore-".concat(l(t),"-size-loader")}))};s.propTypes={size:o().number,className:o().string,style:o().object};const p=s},218291:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var n=r(124852),o=r.n(n);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i.apply(this,arguments)}const a=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).fallback,r=void 0===t?null:t;return function(t){return(0,n.forwardRef)((function(a,u){return void 0===e||e(a)?o().createElement(n.Suspense,{fallback:r},o().createElement(t,i({ref:u},a))):null}))}}},388962:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>$t});var n={};r.r(n),r.d(n,{activateBoxSelectionTool:()=>je,activateGeometryFilter:()=>Ce,activateSyncWmsFilterOnFeatureGridOpen:()=>dt,activateTemporaryChangesEpic:()=>Le,askChangesConfirmOnFeatureGridClose:()=>rt,autoCloseFeatureGridEpicOnDrowerOpen:()=>tt,autoReopenFeatureGridOnFeatureInfoClose:()=>at,closeFeatureGridOnDrawingToolOpen:()=>qe,closeIdentifyWhenOpenFeatureGrid:()=>lt,closeRightPanelOnFeatureGridOpen:()=>Qe,deactivateBoxSelectionTool:()=>Ie,deactivateGeometryFilter:()=>ke,deactivateSyncWmsFilterOnFeatureGridClose:()=>yt,deactivateViewportFilterEpic:()=>Tt,deleteGeometryFeature:()=>Ze,deleteSelectedFeatureGridFeatures:()=>Ve,disableMultiSelect:()=>Me,enableGeometryFilterOnEditMode:()=>_e,featureGridBrowseData:()=>Ee,featureGridChangePage:()=>xe,featureGridLayerSelectionInitialization:()=>we,featureGridReloadPageOnSaveSuccess:()=>Ue,featureGridSort:()=>he,featureGridStartupQuery:()=>Se,featureGridUpdateGeometryFilter:()=>Te,featureGridUpdateTextFilters:()=>Pe,handleBoxSelectionDrawEnd:()=>Re,handleClickOnMap:()=>Ae,handleDrawFeature:()=>He,handleEditFeature:()=>ze,handleGeometryFilterActivation:()=>Ge,hideDrawerOnFeatureGridOpenMobile:()=>Ot,hideFeatureGridOnDrawerOpenMobile:()=>mt,launchUpdateFilterEpic:()=>Fe,onClearChangeConfirmedFeatureGrid:()=>nt,onCloseFeatureGridConfirmed:()=>ot,onFeatureGridCreateNewFeature:()=>Xe,onFeatureGridGeometryEditing:()=>We,onFeatureGridZoomAll:()=>ct,onOpenAdvancedSearch:()=>ut,removeWmsFilterOnGridClose:()=>it,replayOnTimeDimensionChange:()=>vt,resetControlsOnEnterInEditMode:()=>ft,resetEditingOnFeatureGridClose:()=>Be,resetGridOnLocationChange:()=>Je,resetQueryPanel:()=>et,resetSnappingLayerOnFeatureGridClosed:()=>wt,resetViewportFilter:()=>Ft,savePendingFeatureGridChanges:()=>Ye,selectFeaturesOnMapClickResult:()=>De,setDefaultSnappingLayerOnFeatureGridOpen:()=>Et,setHighlightFeaturesPath:()=>Ke,setViewportFilterEpic:()=>ht,startSyncWmsFilter:()=>st,stopSyncWmsFilter:()=>pt,syncMapWmsFilter:()=>gt,toggleSnappingOffOnFeatureGridViewMode:()=>St,triggerDrawSupportOnSelectionChange:()=>$e,updateSelectedOnSaveOrCloseFeatureGrid:()=>Ne,virtualScrollLoadFeatures:()=>bt});var o=r(124852),i=r.n(o),a=r(171703),u=r(22222),c=r(618446),f=r.n(c),l=r(322843),s=r(49977),p=r.n(s),y=r(227361),d=r.n(y),g=r(91175),b=r.n(g),v=r(441609),m=r.n(v),O=r(313311),E=r.n(O),w=r(984596),S=r.n(w),h=r(264721),T=r.n(h),F=r(354061),P=r.n(F),_=r(275982),M=r(375875),A=r.n(M),R=r(813292),j=r.n(R),I=r(834387),D=r(196958),L=r(727418),G=r.n(L),k=r(604206),C=r(750937),x=r.n(C),U=r(378889),N=r(921914),Y=r(95797),V=r(807878),z=r(801550),H=r(41156),B=r(800827),Q=r(580416),q=r(433528),W=r(782904),Z=r(607147),$=r(129386),X=r(731255),K=r(197395),J=r(824260),ee=r(510284),te=r(469842),re=r(120096),ne=r(86686),oe=r(916651),ie=r(552259),ae=r(55105),ue=r(998869),ce=r(93152),fe=r(898631);function le(e){return le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},le(e)}function se(e){return function(e){if(Array.isArray(e))return pe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return pe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?pe(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ye(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function de(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(r),!0).forEach((function(t){var n,o,i,a;n=e,o=t,i=r[t],a=function(e,t){if("object"!=le(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=le(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o),(o="symbol"==le(a)?a:String(a))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ye(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ge=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.page,n=t.size,o=(0,X.Vf)(e),i=void 0!==n?n:o.size;return{startIndex:void 0!==r?r*i:o.page*i,maxFeatures:i}},be=function(e,t){return de(de({},e),{},{pagination:t})},ve=function(e,t){return p().Observable.defer((function(){return A().post(e,t,{headers:{"Content-Type":"application/xml"}})})).let(ee.oB)},me=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).featuregrid;return(0,Q.He)(e.selectedLayer,{filterObj:void 0})},Oe=function(e){return function(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r.update,o=void 0===n?{}:n,i=r.append,a=(0,X.Li)(e.getState()).id,u=de({},d()(e.getState(),'featuregrid.advancedFilters["'.concat(a,'"]')));if(u){var c=(0,X.M0)(e.getState())||{},f=P()(c,(function(e,t,r){return(0,D.dJ)(de({attribute:r},t),e)}),{}),l="AND";f.spatialField&&(u.spatialField=void 0,l=f.spatialFieldOperator);var s=(0,ne.composeAttributeFilters)([u,f],"AND",l),p=de(de({},u),s);return(0,Y.rh)({updates:p,reason:null==o?void 0:o.type})}var y=o;return i&&null!=o&&o.attribute&&(y=(0,X.M0)(e.getState())[null==o?void 0:o.attribute]),(0,Y.rh)({updates:(0,D.dJ)(y,(0,J.X1)(e.getState())),reason:null===(t=y)||void 0===t?void 0:t.type})}},Ee=function(e,t){return e.ofType(Q.R8).switchMap((function(r){var n,o=r.layer,i=d()(t.getState(),"query.typeName");return(n=p().Observable).of.apply(n,se(i!==o.name?[(0,V.mc)()]:[]).concat([(0,W.Xg)("drawer","enabled",!1),(0,q.uF)(o.id),(0,q.t9)()])).merge(function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.url,o=r.name,i=r.id,a=r.fields,u=d()(t.getState(),'featuregrid.advancedFilters["'.concat(i,'"]'));return p().Observable.of((0,Y.gT)(n,o,a)).merge(e.ofType(Y.u7).filter((function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).typeName===o})).map((function(e){return(0,Y.rP)(n,u||{featureTypeName:o,filterType:"OGC",ogcVersion:"1.1.0"},e.owner)})))}(e,t,o))}))},we=function(e){return e.ofType(Y.DR).switchMap((function(e){return p().Observable.of((0,q.uF)(e.id))}))},Se=function(e,t){return e.ofType(Y.Yx).switchMap((function(e){var r=e.owner;return p().Observable.of((0,q.oO)(0)).concat((0,X.eK)(t.getState())===q.EH.VIEW&&"widgets"!==r?p().Observable.of((0,q.nY)()):p().Observable.empty())}))},he=function(e,t){return e.ofType(q.dY).switchMap((function(r){var n=r.sortBy,o=r.sortOrder;return p().Observable.of((0,Y.IO)((0,J.Bu)(t.getState()),be(de(de({},(0,J.X1)(t.getState())),{},{sortOptions:{sortBy:n,sortOrder:o}}),ge(t.getState())),(0,X.TC)(t.getState()))).merge(e.ofType(Y.Hu).map((function(e){return(0,q.UB)(d()(e,"result.features",[]),[d()(e,"filterObj.pagination.startIndex")])})).takeUntil(e.ofType(Y.VT)).take(1))}))},Te=function(e,t){return e.ofType(q.$O).switchMap((function(){var r,n=null===(r=(0,X.Vf)(t.getState()))||void 0===r?void 0:r.size;return e.ofType(q._u).filter((function(e){var t=e.update,r=void 0===t?{}:t;return"geometry"===r.type&&r.enabled&&!r.value})).switchMap((function(){var r=!1;return e.ofType(q._u).filter((function(e){var t=e.update,r=void 0===t?{}:t;return"geometry"===r.type&&r.enabled&&!r.deactivated})).switchMap((function(e,n){return 0===n?(r=!0,p().Observable.from([(0,q.Jr)(1e5),(0,q.KD)([]),Oe(t)(e)])):p().Observable.of(Oe(t)(e))})).takeUntil(p().Observable.merge(e.ofType(q._u).filter((function(e){var t=e.update,r=void 0===t?{}:t;return"geometry"===r.type&&!r.enabled})),e.ofType(q.sF,_.nk))).merge(e.ofType(q._u).filter((function(e){var t=e.update,r=void 0===t?{}:t;return"geometry"===r.type&&!r.enabled})).take(1).switchMap((function(e){return r?p().Observable.of((0,q.Jr)(n),Oe(t)(e)):p().Observable.of(Oe(t)(e))})).takeUntil(e.ofType(q.sF,_.nk))).merge(e.ofType(q.sF,_.nk).take(1).switchMap((function(){var e,o=(0,q.a8)({attribute:null===(e=(0,U.findGeometryProperty)((0,J.Qs)(t.getState())))||void 0===e?void 0:e.name,enabled:!1,type:"geometry"});return r?p().Observable.of((0,q.Jr)(n),o,(0,q.pP)(o)):p().Observable.of(o,(0,q.pP)(o))})))}))}))},Fe=function(e,t){return e.ofType(q.iB).switchMap((function(e){return p().Observable.of(Oe(t)(e.updateFilterAction))}))},Pe=function(e,t){return e.ofType(Y.Yx).switchMap((function(){return e.ofType(q._u).filter((function(e){var t=e.update;return"geometry"!==(void 0===t?{}:t).type})).map(Oe(t))}))},_e=function(e,t){return e.ofType(q.aO).filter((function(){return(0,X.eK)(t.getState())===q.EH.EDIT})).switchMap((function(){return(E()((0,X.M0)(t.getState()),(function(e){return"geometry"===e.type}))||{}).value?p().Observable.empty():p().Observable.of((0,q.a8)({attribute:(0,U.findGeometryProperty)((0,J.Qs)(t.getState())).name,enabled:!0,type:"geometry"}))}))},Me=function(e){return e.ofType(q._u).filter((function(e){var t=e.update,r=void 0===t?{}:t;return"geometry"===r.type&&!r.enabled})).switchMap((function(){return p().Observable.of((0,q.dq)({multiselect:!1}))}))},Ae=function(e,t){return e.ofType(q._u).filter((function(e){var t=e.update,r=void 0===t?{}:t;return"geometry"===r.type&&r.enabled})).switchMap((function(){return e.ofType(z.TR).switchMap((function(e){var r,n=e.point,o=n.latlng,i=n.pixel,a=n.modifiers,u=a.ctrl,c=a.metaKey,f=E()((0,X.M0)(t.getState()),(function(e){return"geometry"===e.type}))||{},l=(0,B.uy)(t.getState()),s=oe.default.reproject([o.lng,o.lat],"EPSG:4326",l),y=ie.ZP.getHook(ie.ZP.GET_COORDINATES_FROM_PIXEL_HOOK),g=oe.default.calculateCircleRadiusFromPixel(y,i,s,4);return f.deactivated?p().Observable.empty():p().Observable.of((0,q.dq)({multiselect:null!==(r=u||c)&&void 0!==r&&r}),(0,q.a8)(de(de({},f),{},{value:{attribute:f.attribute||d()((0,te.vE)(t.getState()),"attribute"),geometry:{center:[s.x,s.y],coordinates:oe.default.calculateCircleCoordinates(s,g,12),extent:[s.x-g,s.y-g,s.x+g,s.y+g],projection:l,radius:g,type:"Polygon"},method:"Circle",operation:"INTERSECTS"}}),u||c))})).takeUntil(p().Observable.merge(e.ofType(q._u).filter((function(e){var t=e.update,r=void 0===t?{}:t;return"geometry"===r.type&&!r.enabled})),e.ofType(_.nk)))}))},Re=function(e,t){return e.ofType(q._u).filter((function(e){var t=e.update,r=void 0===t?{}:t;return"geometry"===r.type&&r.enabled})).switchMap((function(){return e.ofType(H.fy).switchMap((function(e){var r,n=e.boxEndInfo,o=n.boxExtent,i=n.modifiers,a=i.ctrl,u=i.metaKey,c=oe.default.getPolygonFromExtent(o),f=(0,B.uy)(t.getState()),l=E()((0,X.M0)(t.getState()),(function(e){return"geometry"===e.type}))||{};return l.deactivated?p().Observable.empty():p().Observable.of((0,q.dq)({multiselect:null!==(r=a||u)&&void 0!==r&&r}),(0,q.a8)(de(de({},l),{},{value:{geometry:de(de({},c.geometry),{},{projection:f}),attribute:l.attribute||d()((0,te.vE)(t.getState()),"attribute"),method:"Rectangle",operation:"INTERSECTS"}}),a||u))})).takeUntil(p().Observable.merge(e.ofType(q._u).filter((function(e){var t=e.update,r=void 0===t?{}:t;return"geometry"===r.type&&!r.enabled}))))}))},je=function(e){return e.ofType(q._u).filter((function(e){var t=e.update,r=void 0===t?{}:t;return"geometry"===r.type&&r.enabled})).switchMap((function(){return p().Observable.of((0,H.ZR)("start"))}))},Ie=function(e){return p().Observable.merge(e.ofType(q._u).filter((function(e){var t=e.update,r=void 0===t?{}:t;return"geometry"===r.type&&!r.enabled})),e.ofType(q.sF)).switchMap((function(){return p().Observable.of((0,H.ZR)("end"))}))},De=function(e,t){return e.ofType(Y.Hu).filter((function(e){return"geometry"===e.reason})).switchMap((function(e){var r=e.result,n=d()(r,"features"),o=(0,X.gz)(t.getState()),i=E()((0,X.M0)(t.getState()),(function(e){return"geometry"===e.type}));return p().Observable.of((0,q.KD)(n.length>0&&i&&i.value?se(n):[],o))}))},Le=function(e){return e.ofType(q.VV).flatMap((function(e){var t=e.activated;return p().Observable.of((0,q.YG)(t),(0,q.VH)(t))}))},Ge=function(e,t){return e.ofType(q._9).flatMap((function(){var e=E()((0,X.M0)(t.getState()),(function(e){return"geometry"===e.type}))||{},r=(0,X.LB)(t.getState()),n=(0,X.b4)(t.getState());return p().Observable.of((0,q.a8)(de(de({},e),{},{type:"geometry",attribute:e.attribute||d()((0,te.vE)(t.getState()),"attribute"),deactivated:!(!r&&!n&&e.deactivated)})))}))},ke=function(e,t){return p().Observable.merge(e.ofType(q.IN,k.DI,q.JB,q.K8),e.ofType(q.B8).filter((function(e){return!!e.deactivated}))).flatMap((function(){var e=E()((0,X.M0)(t.getState()),(function(e){return"geometry"===e.type}))||{};return e.deactivated?p().Observable.empty():p().Observable.of((0,q.a8)(de(de({},e),{},{type:"geometry",attribute:e.attribute||d()((0,te.vE)(t.getState()),"attribute"),deactivated:!0})))}))},Ce=function(e,t){return p().Observable.merge(e.ofType(q.AY,q.yi),e.ofType(q.B8).filter((function(e){return!e.deactivated}))).flatMap((function(){var e=E()((0,X.M0)(t.getState()),(function(e){return"geometry"===e.type}))||{},r=(0,X.LB)(t.getState()),n=(0,X.b4)(t.getState());return!e.deactivated||r||n?p().Observable.empty():p().Observable.of((0,q.a8)(de(de({},e),{},{type:"geometry",attribute:e.attribute||d()((0,te.vE)(t.getState()),"attribute"),deactivated:!1})))}))},xe=function(e,t){return e.ofType(q.gG).merge(e.ofType(Y.VN).debounceTime(500).map((function(e){return de(de({},e),{},{page:0})}))).switchMap((function(r){return function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.page,n=t.size,o=t.reason,i=e.getState();return p().Observable.of((0,Y.IO)((0,J.Bu)(i),be(de(de({},(0,J.X1)(i)),(0,X.zc)(i)),ge(i,{page:r,size:n})),(0,X.TC)(i),o))}}(t)(r).merge(e.ofType(Y.Hu).map((function(e){var r=d()(e,"result.features",[]),n=(0,X.gz)(t.getState()),o=E()((0,X.M0)(t.getState()),(function(e){return"geometry"===e.type}));return n&&null!=o&&o.enabled&&(r=(0,X._w)(t.getState())),(0,q.UB)(r,[d()(e,"filterObj.pagination.startIndex")])})).take(1).takeUntil(e.ofType(Y.VT)))}))},Ue=function(e,t){return e.ofType(q.AY).switchMap((function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r.page,o=r.size;return p().Observable.of((0,Y.IO)((0,J.Bu)(t.getState()),be(de({},(0,J.X1)(t.getState())),ge(t.getState(),{page:n,size:o})),(0,X.TC)(t.getState())),(0,Q.ct)((0,X.u$)(t.getState()))).merge(e.ofType(Y.Hu).map((function(e){return p().Observable.of((0,q.$E)(),(0,q.UB)(d()(e,"result.features",[]),[d()(e,"filterObj.pagination.startIndex")]))})).mergeAll().takeUntil(e.ofType(Y.VT)).take(2))}))},Ne=function(e){return e.ofType(q.AY,q.sF).switchMap((function(){return p().Observable.of((0,q.KD)([]))}))},Ye=function(e,t){return e.ofType(q.zh).switchMap((function(){return p().Observable.of((0,q.fO)()).concat(function(){var e,t,r,n,o,i,a,u=arguments.length>2?arguments[2]:void 0;return ve(arguments.length>3?arguments[3]:void 0,(e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=x()(u),n=r.insert,o=r.update,i=r.propertyChange,a=r.getPropertyName,(0,r.transaction)(t.map((function(e){return n(e)})),Object.keys(e).map((function(t){return Object.keys(e[t]).map((function(r){return o([i(a(r),e[t][r]),(0,I.fidFilter)("ogc",t)])}))})))))}((0,X.ND)(t.getState()),(0,X.kG)(t.getState()),(0,J.Qs)(t.getState()),(0,J.Bu)(t.getState())).map((function(){return(0,q.gc)()})).catch((function(e){return p().Observable.of((0,q.cE)(),(0,K.vU)({title:"featuregrid.errorSaving",message:e.message||"Unknown Exception",uid:"saveError",autoDismiss:5}))})))}))},Ve=function(e,t){return e.ofType(q.Hk).switchMap((function(){return p().Observable.of((0,q.fO)()).concat((e=(0,X._w)(t.getState()),r=(0,J.Qs)(t.getState()),n=(0,J.Bu)(t.getState()),ve(n,function(e,t){var r=t.transaction,n=t.deleteFeature;return r(e.map(n))}(e,x()(r)))).map((function(){return(0,q.gc)()})).catch((function(e){return p().Observable.of((0,q.cE)(),(0,K.vU)({title:"featuregrid.errorSaving",message:e.message||"Unknown Exception",uid:"saveError"}))})).concat(p().Observable.of((0,q.Pv)("deleteConfirm"),(0,q.MO)())));var e,r,n}))},ze=function(e,t){return e.ofType(q.Ub).switchMap((function(){var e=t.getState(),r=(0,J.Qs)(e),n=(0,D.cZ)(),o=(0,U.findGeometryProperty)(r).localType,i={featureProjection:n,stopAfterDrawing:!1,editEnabled:!0,drawEnabled:!1},a=G()({},(0,X.P3)(e),{type:"Feature"}),u=(0,X.ND)(e);return u[a.id]&&u[a.id]&&u[a.id].geometry&&(a.geometry=u[a.id].geometry),p().Observable.of((0,k.Yf)("drawOrEdit",o,"featureGrid",[a],i))}))},He=function(e,t){return e.ofType(q._9).switchMap((function(){var e=t.getState(),r=(0,J.Qs)(e),n=(0,D.cZ)(),o=(0,U.findGeometryProperty)(r).localType,i=G()({},(0,X.P3)(e),{type:"Feature"}),a=(0,X.ND)(e);a[i.id]&&(a[i.id].geometry||null===a[i.id].geometry)&&(i.geometry=a[i.id].geometry),i._new&&(i.geometry=b()((0,X.kG)(e)).geometry);var u={featureProjection:n,stopAfterDrawing:!0,editEnabled:!(0,X.Ae)(e),drawEnabled:(0,X.Ae)(e)};return p().Observable.of((0,k.Yf)("drawOrEdit",o,"featureGrid",[i],u))}))},Be=function(e,t){return e.ofType(q.$O).switchMap((function(){return e.ofType(q.aO).filter((function(){return(0,X.eK)(t.getState())===q.EH.EDIT})).take(1).switchMap((function(){return e.ofType(_.nk,q.sF).take(1).switchMap((function(){return p().Observable.of((0,k.bp)())}))}))}))},Qe=function(e,t){return e.ofType(q.$O).switchMap((function(){var e=[],r=t.getState();return(0,ae.Ju)(r).right.forEach((function(t){(0,Z.Yq)(t)(r)&&e.push((0,W.Xg)(t,"enabled",!1))})),p().Observable.from(e)}))},qe=function(e,t){return(0,ue.U)(e,t,"featureGrid",(function(){return p().Observable.from([(0,q.YV)()])}),(function(e){return(0,X.Rd)(e)}))},We=function(e,t){return e.ofType(k.DI).filter((function(e){return"featureGrid"===e.owner})).delay(500).switchMap((function(e){var r=t.getState(),n={featureProjection:(0,D.cZ)(),stopAfterDrawing:!1,editEnabled:!0,drawEnabled:!1},o=e.features.map((function(e,t){return G()({},e,{id:(0,X._w)(r)[t].id,_new:(0,X._w)(r)[t]._new,type:"Feature"})})),i=G()({},b()(e.features),{id:(0,X.P3)(r).id,_new:(0,X.P3)(r)._new,type:"Feature"}),a="enterEditMode"===e.enableEdit?p().Observable.of((0,k.Yf)("drawOrEdit",i.geometry.type,"featureGrid",o,n)):p().Observable.empty();return p().Observable.of((0,q.Vw)(o)).concat(a)}))},Ze=function(e,t){return e.ofType(q.JB).switchMap((function(){var e=t.getState();return p().Observable.from([(0,q.F5)((0,X._w)(e)),(0,k.bp)()])}))},$e=function(e,t){return e.ofType(q.Oj,q.jp,q.yi,q.aO).filter((function(){return(0,X.eK)(t.getState())===q.EH.EDIT&&(0,X.bq)(t.getState())})).switchMap((function(e){return r=t.getState(),n=e.type===q.yi,o=(0,D.cZ)(),i=(0,U.findGeometryProperty)((0,J.Qs)(r)).localType,a={featureProjection:o,stopAfterDrawing:ie.ZP.isSimpleGeomType(i),editEnabled:!0,drawEnabled:!1},(u=(0,X._w)(r).map((function(e){var t=G()({},e,{type:"Feature"});if(!m()(t)){var o=(0,X.ND)(r);if(o[t.id]&&(o[t.id].geometry||null===o[t.id].geometry)&&(t.geometry=o[t.id].geometry),t._new&&!t.geometry){var i=E()((0,X.kG)(r),{id:t.id});i&&i.geometry&&(t.geometry=i.geometry)}n&&(t.geometry=(0,J.dc)(r,t.id)?(0,J.dc)(r,t.id).geometry:null)}return t})).filter((function(e){return null!==e.geometry||"empty_row"!==e.id}))).length>0?p().Observable.from([(0,k.Yf)("drawOrEdit",i,"featureGrid",u,a)]):p().Observable.from([(0,k.Yf)("clean","","featureGrid",[],{})]);var r,n,o,i,a,u}))},Xe=function(e){return e.ofType(q.IN).switchMap((function(){return p().Observable.of((0,k.bp)())}))},Ke=function(e,t){return e.ofType(q.aO).switchMap((function(e){return e.mode===q.EH.VIEW?p().Observable.of((0,k.bp)(),(0,$.WP)("featuregrid.select")):e.mode!==q.EH.EDIT||(0,X.bq)(t.getState())?p().Observable.of((0,$.WP)()):p().Observable.of((0,k.bp)(),(0,$.WP)("featuregrid.select"),(0,K.Kp)({title:"featuregrid.notSupportedGeometryTitle",message:"featuregrid.notSupportedGeometry",uid:"notSupportedGeometryWarning",autoDismiss:5}))}))},Je=function(e){return e.ofType(q.$O).switchMap((function(){return e.ofType(_.nk).take(1).switchMap((function(){return p().Observable.of((0,q.nY)(),(0,q.YV)())})).takeUntil(e.ofType(q.sF))}))},et=function(e,t){return e.ofType(_.nk).switchMap((function(){return(0,Z._d)(t.getState())?p().Observable.of((0,W.Xg)("queryPanel","enabled",!1)):p().Observable.empty()}))},tt=function(e,t){return e.ofType(q.$O).switchMap((function(){return e.ofType(W.kM).filter((function(e){return e.control&&"drawer"===e.control&&(0,X.Rd)(t.getState())})).switchMap((function(){return p().Observable.of((0,q.YV)(),(0,q.KD)([]))})).takeUntil(e.ofType(_.nk))}))},rt=function(e,t){return e.ofType(q.bZ).switchMap((function(){var e=t.getState();return(0,X.LB)(e)||(0,X.b4)(e)?p().Observable.of((0,q.Pv)("featureCloseConfirm",!0)):p().Observable.of((0,q.YV)())}))},nt=function(e){return e.ofType(q.Gk).switchMap((function(){return p().Observable.of((0,q.$E)(),(0,q.Pv)("clearConfirm",!1))}))},ot=function(e){return e.ofType(q.vO).switchMap((function(){return p().Observable.of((0,W.Xg)("drawer","enabled",!1),(0,q.Pv)("featureCloseConfirm",!1))}))},it=function(e,t){return e.ofType(q.$O).exhaustMap((function(){return e.ofType(q.sF).delay(50).filter((function(){return(0,J.M7)(t.getState())})).switchMap((function(){return p().Observable.of(me(t.getState()))})).takeUntil(e.ofType(_.nk,N.xy,q.VM))}))},at=function(e){return e.ofType(q.$O).switchMap((function(){return p().Observable.race(e.ofType(N.xy).take(1),e.ofType(q.sF).take(1)).exhaustMap((function(t){return t.type===q.sF?p().Observable.empty():e.ofType(N.F9).switchMap((function(){return p().Observable.of((0,q.t9)())}))})).takeUntil(e.ofType(_.nk,W.kM).filter((function(e){return e.type===_.nk||e.control&&"drawer"===e.control})).merge(e.ofType(q.sF).withLatestFrom(e.ofType(N.xy,N.F9).scan((function(e,t){switch(t.type){case N.xy:return!1;case N.F9:return!0;default:return!1}}),!0).startWith(!0),(function(e,t){return t})).filter((function(e){return e}))))}))},ut=function(e,t){return e.ofType(q.VM).switchMap((function(){return p().Observable.of((0,q.KD)([]),(0,V.F)(d()(t.getState(),'featuregrid.advancedFilters["'.concat((0,X.u$)(t.getState()),'"]'))),(0,q.YV)("queryPanel"),(0,W.Xg)("queryPanel","enabled",!0)).merge(p().Observable.race(e.ofType(V.Wm).mergeMap((function(e){return p().Observable.of((0,Y.rP)(e.searchUrl,e.filterObj),(0,q.Uh)(G()({},(0,te.gC)(t.getState()),e.filterObj)),(0,W.Xg)("queryPanel","enabled",!1),(0,q.t9)(),(0,J.M7)(t.getState())?(0,q.hB)():p().Observable.empty())})),e.ofType(W.kM).filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.control,r=e.property;return"queryPanel"===t&&(!r||"enabled"===r)})).mergeMap((function(){var e="clean"!==(t.getState().draw||{}).drawStatus?[(0,k.Yf)("clean","","featureGrid",[],{})]:[];return p().Observable.from(e.concat((0,q.t9)()))}))).takeUntil(e.ofType(q.$O,_.nk)))}))},ct=function(e,t){return e.ofType(q.a3).filter((function(){return!d()(t.getState(),"featuregird.virtualScroll",!1)})).switchMap((function(){return p().Observable.of((0,z.Px)(j()((0,J.F0)(t.getState())),"EPSG:4326"))}))},ft=function(e){return e.ofType(q.aO).filter((function(e){return e.mode===q.EH.EDIT})).map((function(){return(0,W.fV)(["query"])}))},lt=function(e){return e.ofType(q.$O).switchMap((function(){return p().Observable.of((0,N.Mc)())}))},st=function(e,t){return e.ofType(Y._T).filter((function(){return(0,J.M7)(t.getState())})).mapTo((0,q.hB)())},pt=function(e,t){return e.ofType(Y._T).filter((function(){return!(0,J.M7)(t.getState())})).switchMap((function(){return p().Observable.from([me(t.getState()),{type:q.Hg}])}))},yt=function(e,t){return e.ofType(q.sF).switchMap((function(){var e,r=t.getState(),n="queryPanel"===(null===(e=r.featuregrid)||void 0===e?void 0:e.closer);return n&&(0,J.M7)(r)?p().Observable.of(me(t.getState())):(0,J.M7)(r)&&!n?p().Observable.of((0,Y.XO)()):p().Observable.empty()}))},dt=function(e,t){return e.ofType(q.$O).filter((function(){return(0,J.M7)(t.getState())})).switchMap((function(){return p().Observable.of((0,q.hB)())}))},gt=function(e,t){return e.ofType(Y.Yx,Y.VN).filter((function(e){var r=t.getState().featuregrid.disableQuickFilterSync;return e.type===Y.Yx||!r})).switchMap((function(){var r=t.getState(),n=r.query,o=(r.featuregrid||{}).selectedLayer,i=(n||{}).filterObj;return p().Observable.merge(p().Observable.of((0,J.M7)(t.getState())).filter((function(e){return e})),e.ofType(q.Yd)).mergeMap((function(){return p().Observable.of(function(e,t){return(0,Q.He)(e,{filterObj:t})}(o,i))}))}))},bt=function(e,t){var r=t.getState;return e.ofType(q.ye).filter((function(){return!(0,J.gy)(r())})).switchMap((function(t){var n=r(),o=t.pages,i=o.startPage,a=o.endPage,u=n.featuregrid,c=u.pages,f=u.pagination,l=d()(f,"size"),s=(0,D.gP)(i,a,c,l),y=s[1]-s[0]+1;return p().Observable.of((0,Y.IO)((0,J.Bu)(n),be(de({},(0,J.X1)(n)),{startIndex:s[0]*l,maxFeatures:y*l}),(0,X.TC)(n))).filter((function(){return s.length>0})).merge(e.ofType(Y.Hu).filter((function(){return s.length>0})).map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.result,n=void 0===t?{}:t,o=e.filterObj,u=r().featuregrid,f=u.features,s=u.maxStoredPages,p=d()(o,"pagination.startIndex"),y=(0,D.f1)(n,{endPage:a,startPage:i},{pages:c,features:f||[]},{size:l,startIndex:p,maxStoredPages:s}),g=y.pages,b=y.features;return(0,q.UB)(b,g)})).take(1).takeUntil(e.ofType(Y.VT))).merge(e.ofType(Y.yz).filter((function(){return s.length>0})).filter((function(e){return!e.isLoading})).withLatestFrom(e.ofType(q.ye)).map((function(e){return e[1]})).take(1).takeUntil(e.ofType(Y.VT)))}))},vt=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).getState,r=void 0===t?function(){}:t;return e.ofType(Q.Zz).filter((function(e){var t=e.layer,n=void 0===t?[]:t,o=e.params,i=void 0===o?{}:o;return T()(S()(n),(0,X.u$)(r()))&&T()(Object.keys(i),"time")&&(0,X.DK)(r())})).merge(e.ofType(q.d)).filter((function(){return(0,X.Rd)(r())})).withLatestFrom(e.ofType(Y.Qq),(function(e,t){return t})).switchMap((function(e){return p().Observable.of((0,Y.rP)(e.searchUrl,e.filterObj))}))},mt=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).getState;return e.ofType(W.kM).filter((function(){return"drawer"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).control&&t().browser&&t().browser.mobile&&(0,Z.BP)(t())})).switchMap((function(){return p().Observable.of((0,N.aN)(),(0,q.t9)())}))},Ot=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).getState;return e.ofType(N.xy).filter((function(){return t().browser&&t().browser.mobile&&(0,Z.BP)(t())})).mapTo((0,W.Xi)("drawer","enabled"))},Et=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).getState;return e.ofType(q.$).switchMap((function(){var e,r=null===(e=(0,X.Li)(t()))||void 0===e?void 0:e.id;return p().Observable.of((0,k.k4)(r))}))},wt=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).getState;return e.ofType(q.sF).switchMap((function(){var e=[(0,k.k4)(!1)];return(0,re.jP)(t())&&e.push((0,k.oJ)()),p().Observable.from(e)}))},St=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).getState;return e.ofType(q.aO).filter((function(e){return"VIEW"===e.mode})).switchMap((function(){var e=[];return(0,re.jP)(t())&&e.push((0,k.oJ)()),p().Observable.from(e)}))},ht=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).getState;return e.ofType(q.$O,q.vm,z.pP).filter((function(){return(0,X.Rd)(t())&&(0,X.qd)(t())&&(0,ce.$v)(t())!==fe.Bk.CESIUM})).switchMap((function(){return p().Observable.of((0,q.a8)())}))},Tt=function(e){return e.ofType(q.vm).filter((function(e){var t=e.type,r=e.value;return t===q.vm&&!1===r})).switchMap((function(){return p().Observable.of((0,q.a8)())}))},Ft=function(e,t){return e.ofType(_.nk).switchMap((function(){return null!==(0,X.zc)(t.getState())?p().Observable.of((0,q.dM)(null)):p().Observable.empty()}))},Pt=r(545578),_t=r.n(Pt),Mt=r(701469),At=r.n(Mt),Rt=r(881808),jt=r(455877),It=r.n(jt);function Dt(e){return Dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dt(e)}function Lt(e){return function(e){if(Array.isArray(e))return Gt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Gt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Gt(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ct(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?kt(Object(r),!0).forEach((function(t){xt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function xt(e,t,r){var n;return n=function(e,t){if("object"!=Dt(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=Dt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t),(t="symbol"==Dt(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ut={advancedFilters:{},filters:{},editingAllowedRoles:["ADMIN"],editingAllowedGroups:[],enableColumnFilters:!0,showFilteredObject:!1,timeSync:!1,showTimeSync:!1,open:!1,canEdit:!1,focusOnEdit:!1,showAgain:!1,mode:q.EH.VIEW,changes:[],pagination:{page:0,size:20},select:[],drawing:!1,newFeatures:[],features:[],dockSize:.35,customEditorsOptions:{rules:[]},viewportFilter:null},Nt=function(e,t){return t===e||void 0!==e.id&&null!==e.id&&e.id===t.id},Yt=function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).filter((function(t){return Nt(e,t)})).length>0},Vt=function(e,t,r,n){return e.map((function(e){return Yt(e,t)?function(e,t,r){return Ct(Ct({},e),{},r?{properties:Ct(Ct({},e.properties),t),geometry:r.geometry}:{properties:Ct(Ct({},e.properties),t)})}(e,r,n):e}))};var zt=r(532425);function Ht(e){return Ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ht(e)}function Bt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}const Qt=(0,a.connect)((0,u.P1)((function(e){var t;return null==e||null===(t=e.featuregrid)||void 0===t?void 0:t.dockSize}),(function(e){return(0,ae.ic)(e,{transform:!0})}),(function(e,t){return{size:e,dockStyle:t}})))((function(e){var t=e.size,r=e.dockStyle,n=(0,o.useMemo)((function(){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Bt(Object(r),!0).forEach((function(t){var n,o,i,a;n=e,o=t,i=r[t],a=function(e,t){if("object"!=Ht(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=Ht(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o),(o="symbol"==Ht(a)?a:String(a))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({height:"".concat(100*t,"%")},r)}),[t,r]);return i().createElement("div",{className:"feature-editor-fallback-container",style:n},i().createElement(zt.Z,{size:100,style:{margin:"0 auto"}}))}));var qt=r(218291),Wt=r(867076),Zt=(0,a.connect)((0,u.P1)([function(e){var t;return null==e||null===(t=e.featuregrid)||void 0===t?void 0:t.open},X.qd],(function(e,t){return{open:e,viewportFilterInitialized:null!==t}})),{setViewportFilter:q.dM,initPlugin:q.QT})((0,Wt.compose)((0,Wt.lifecycle)({componentDidMount:function(){var e;!this.props.viewportFilterInitialized&&this.props.filterByViewport&&this.props.setViewportFilter(!0),this.props.initPlugin({virtualScroll:null===(e=this.props.virtualScroll)||void 0===e||e,editingAllowedRoles:this.props.editingAllowedRoles,editingAllowedGroups:this.props.editingAllowedGroups,maxStoredPages:this.props.maxStoredPages})},componentDidUpdate:function(e){var t;!this.props.viewportFilterInitialized&&this.props.filterByViewport&&this.props.setViewportFilter(!0);var r=null!==(t=this.props)&&void 0!==t?t:{},n=r.virtualScroll,o=r.editingAllowedRoles,i=r.editingAllowedGroups,a=r.maxStoredPages;e.virtualScroll===n&&f()(e.editingAllowedRoles,o)&&f()(e.editingAllowedGroups,i)&&e.maxStoredPages===a||this.props.initPlugin({virtualScroll:null==n||n,editingAllowedRoles:o,editingAllowedGroups:i,maxStoredPages:a})}}),(0,qt.Z)((function(e){return!!e.open}),{fallback:i().createElement(Qt,null)}))((0,o.lazy)((function(){return Promise.all([r.e(72986),r.e(85294),r.e(96259),r.e(43129),r.e(56936),r.e(72555),r.e(20),r.e(53370),r.e(94192),r.e(52547),r.e(46723),r.e(88805)]).then(r.bind(r,737174))}))));const $t=(0,l.rx)("FeatureEditor",{component:Zt,epics:n,reducers:{featuregrid:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ut,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q.Xp:return G()({},e,{editingAllowedRoles:t.options.editingAllowedRoles||e.editingAllowedRoles||["ADMIN"],editingAllowedGroups:t.options.editingAllowedGroups||e.editingAllowedGroups||[],virtualScroll:!!t.options.virtualScroll,maxStoredPages:t.options.maxStoredPages||5});case q.ye:case q.gG:return G()({},e,{pagination:{page:void 0!==t.page?t.page:e.pagination.page,size:void 0!==t.size?t.size:e.pagination.size}});case q.fT:var r;return Ct(Ct({},e),{},{pagination:Ct(Ct({},null!==(r=e.pagination)&&void 0!==r?r:{}),{},{size:t.size})});case q.Oj:var n=t.features.filter((function(e){return"empty_row"!==e.id}));return e.multiselect&&t.append?G()({},e,{select:t.append?_t()([].concat(Lt(e.select),Lt(n)),"id"):n}):n&&e.select&&e.select[0]&&n[0]&&1===e.select.length&&Nt(n[0],e.select[0])?e:G()({},e,{select:n||[]});case q.v6:var o=e.select.filter((function(e){return!Yt(e,t.features)})),i=t.features.filter((function(t){return!Yt(t,e.select)})),a=o.concat(i||[]);return G()({},e,{select:a});case q.jp:return G()({},e,{select:e.select.filter((function(e){return!Yt(e,t.features)}))});case q.DU:var u,c;return G()({},e,{multiselect:null!==(u=t.multiselect)&&void 0!==u?u:e.multiselect,showCheckbox:null!==(c=t.showCheckbox)&&void 0!==c?c:e.showCheckbox});case q.r:return G()({},e,{customEditorsOptions:t.payload});case q.gJ:return G()({},e,t.options||{});case q.CM:return G()({},e,{select:[],changes:[]});case q.iQ:return G()({},e,{features:t.features});case q.dZ:return G()({},e,{dockSize:t.dockSize});case q.$:return G()({},e,{selectedLayer:t.id});case q.qw:return G()({},e,{tools:Ct(Ct({},e.tools),{},xt({},t.tool,void 0===t.value?!(e.tools&&e.tools[t.tool]):t.value))});case q.f$:return G()({},e,{attributes:Ct(Ct({},e.attributes),{},xt({},t.name,Ct(Ct({},e.attributes&&e.attributes[t.name]||{}),{},xt({},t.key,t.value||e.attributes&&e.attributes[t.name]&&!e.attributes[t.name][t.key]))))});case q.aO:return G()({},e,{tools:t.mode===q.EH.EDIT?{}:e.tools,mode:t.mode,multiselect:t.mode===q.EH.EDIT,drawing:!1});case q.K8:var f=t.features.filter((function(e){return e._new}))||[];return G()({},e,{newFeatures:f.length>0?Vt(e.newFeatures,f,t.updated,null):e.newFeatures,changes:[].concat(Lt(e&&e.changes||[]),Lt(t.features.filter((function(e){return!e._new})).map((function(e){return{id:e.id,updated:t.updated}}))))});case q.AH:return G()({},e,{saving:!0,loading:!0});case q.AY:return G()({},e,{deleteConfirm:!1,saved:!0,saving:!1,drawing:!1,loading:!1});case q.yi:return G()({},e,{saved:!1,deleteConfirm:!1,drawing:!1,newFeatures:[],changes:[]});case q.IN:var l=It().v1();return G()({},e,{newFeatures:t.features.map((function(e){return Ct(Ct({},e),{},{_new:!0,id:e.id?e.id:l,type:"Feature",geometry:e.geometry?e.geometry:null})})),select:t.features.map((function(e){return Ct(Ct({},e),{},{_new:!0,id:e.id?e.id:l,type:"Feature",geometry:e.geometry?e.geometry:null})}))});case q.SW:return G()({},e,{deleteConfirm:!1,saving:!1,loading:!1,drawing:!1});case q.DI:var s=t.features.filter((function(e){return e._new}))||[];return G()({},e,{newFeatures:s.length>0?Vt(e.newFeatures,s,null,{geometry:Ct({},b()(s).geometry)}):e.newFeatures,changes:t.features.filter((function(e){return!e._new})).map((function(e,r){return{id:e.id,updated:{geometry:t.features[r].geometry}}})),drawing:!1});case q.oh:var p=t.features.filter((function(e){return e._new}))||[];return G()({},e,{newFeatures:p.length>0?Vt(e.newFeatures,p,null,{geometry:null}):e.newFeatures,changes:[].concat(Lt(e&&e.changes||[]),Lt(t.features.filter((function(e){return!e._new})).map((function(e){return{id:e.id,updated:{geometry:null}}}))))});case Y.u7:return G()({},e,{localType:d()(t,"featureType.original.featureTypes[0].properties[1].localType")});case q._9:return G()({},e,{drawing:!e.drawing});case q.$O:return G()({},e,{open:!0,closer:null});case q.sF:return G()({},e,{open:!1,pagination:{page:0,size:e.pagination.size},mode:q.EH.VIEW,tools:{},saved:!1,deleteConfirm:!1,drawing:!1,newFeatures:[],changes:[],closer:t.closer});case q.MK:return G()({},e,{disableToolbar:t.disabled});case q.ut:return G()({},e,{canEdit:t.permission.canEdit});case k.hZ:return"clean"===t.status?G()({},e,{drawing:!1}):e;case q._u:var y=(t.update||{}).attribute;if(y&&t.append){var g=e.filters[y].value,v=[];null!=g&&g.attribute&&(v=[g]),At()(g)&&(v=g);var m=[].concat(Lt(v),[t.update.value]);return G()({},e,{filters:xt({},y,{attribute:y,enabled:!0,type:"geometry",operator:"OR",value:m})})}return y?G()({},e,{filters:Ct(Ct({},e.filters),{},xt({},y,t.update))}):e;case Y.Yx:return G()({},e,{filters:{}});case Y.VN:var O;return Ct(Ct({},e),{},{useLayerFilter:null!==(O=t.useLayerFilter)&&void 0!==O?O:e.useLayerFilter});case q.DA:var E=t.dockProps&&t.dockProps.maxDockSize,w=t.dockProps&&t.dockProps.minDockSize,S=E&&w&&w<=t.size&&E>=t.size&&t.size||E&&E<t.size&&E||w&&w>t.size&&w||t.size;return G()({},e,{dockSize:S});case q.Lz:return G()({},e,{advancedFilters:G()({},e.advancedFilters,xt({},e.selectedLayer,t.filterObj))});case q.Jb:return G()({},e,{features:t.features||[],pages:t.pages||[]});case q.sK:return G()({},e,{showAgain:!e.showAgain});case q.d:return G()({},e,{timeSync:t.value});case q.vm:return G()({},e,{viewportFilter:t.value});case Rt.ok:return Ct(Ct({},e),d()(t,"config.featureGrid",{}));default:return e}}},containers:{TOC:{doNotHide:!0,name:"FeatureEditor"}}})},469842:(e,t,r)=>{"use strict";r.d(t,{By:()=>y,qh:()=>d,GK:()=>g,Nl:()=>b,vE:()=>v,gC:()=>m,hI:()=>O,Vc:()=>E,BU:()=>w,Vx:()=>S,a8:()=>h,IM:()=>T,G$:()=>F});var n=r(227361),o=r.n(n),i=r(22222),a=r(675110),u=r(308316),c=r(86638);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}var l=["title"];function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){var n,o,i,a;n=e,o=t,i=r[t],a=function(e,t){if("object"!=f(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o),(o="symbol"==f(a)?a:String(a))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var y=function(e){return o()(e,"queryform.map")},d=function(e){return o()(e,"queryform.crossLayerFilter")},g=function(e){return((0,a.l2)(e)||[]).filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.type,r=e.group;return"wms"===t&&"background"!==r})).map((function(t){var r=t.title;return p(p({},function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(t,l)),{},{title:(0,c.MZ)((0,u.Pz)(e),r)})}))},b=function(e){return o()(e,"queryform.spatialField.geometry")},v=function(e){return o()(e,"queryform.spatialField")},m=(0,i.P1)((function(e){return o()(e,"queryform.attributePanelExpanded")}),(function(e){return o()(e,"queryform.spatialPanelExpanded")}),(function(e){return o()(e,"queryform.crossLayerExpanded")}),(function(e,t,r){return{attributePanelExpanded:e,spatialPanelExpanded:t,crossLayerExpanded:r}})),O=function(e){return o()(e,"layerFilter.persisted")},E=function(e){return o()(e,"layerFilter.applied")},w=function(e){return o()(e,"queryform.spatialField.method")},S=function(e){return o()(e,"queryform.maxFeaturesWPS")},h=function(e){return b(e)&&b(e).type||"Polygon"},T=function(e){return b(e)&&b(e).projection||"EPSG =4326"},F=function(e){return b(e)&&b(e).coordinates||[]}},651751:(e,t,r)=>{var n=r(834387),o=n.filter,i=n.fidFilter;e.exports={fidFilter:i,filter:o}},750937:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o=["wfsVersion","wfsNS"];function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){var o,i,a,u;o=e,i=t,a=r[t],u=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(i),(i="symbol"==n(u)?u:String(u))in o?Object.defineProperty(o,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):o[i]=a})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var c=r(227361),f=r(799767),l=f.insert,s=f.feature,p=f.attribute,y=r(199381).transaction,d=r(550525),g=d.deleteFeaturesByFilter,b=d.deleteFeature,v=r(516685),m=v.update,O=v.propertyChange,E=r(378889),w=E.getPropertyDescriptor,S=E.getValue,h=E.findGeometryProperty,T=E.featureTypeSchema,F=r(439156),P=function(e,t){return t&&t.length>0?[e].concat(function(e){if(Array.isArray(e))return u(e)}(r=t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,t):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()):e;var r},_=function(e){this.version=e},M=function(e){return c(e,"featureTypes[0].typeName")},A=function(e){return e.targetPrefix?"".concat(e.targetPrefix,":").concat(M(e)):M(e)},R=function(e,t){return e.geometry_name||h(t).name};e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.wfsVersion,n=void 0===r?"1.1.0":r,i=t.wfsNS,u=void 0===i?"wfs":i,c=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(t,o);if("1.1.0"!==n)throw new _(n);var f=function(t){return s(e.targetPrefix,M(e),Object.keys(t.properties||[]).filter((function(t){return w(t,e)})).map((function(r){return p(e.targetPrefix,r,S(t.properties[r],r,e))})).concat(t.geometry?p(e.targetPrefix,R(t,e),S(t.geometry,R(t,e),e)):[]))},d=function(e){return e.features?e.features.map(f):f(e)};return a(a({},F(a(a({},c),{},{wfsVersion:n,wfsNS:u}))),{},{insert:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return l(u,Array.isArray(P(e,r))?P(e,r).map(d):d(e))},getPropertyName:function(t){return function(e,t){return"geometry"===e||e===R({},t)?R({},t):e}(t,e)},deleteByFilter:function(t){return g(u,t,A(e))},deleteFeature:function(t){return b(u,t,A(e))},update:function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return m(u,A(e),P(t,n))},propertyChange:function(t,r){return O(u,t,S(r,t,e))},transaction:function(t){for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return y(P(t,o),T(e),n,u)}})}},550525:(e,t,r)=>{var n=r(651751).fidFilter,o=function(e,t,r){return"<".concat(e,':Delete typeName="').concat(r,'">').concat(t,"</").concat(e,":Delete>")},i=function(e,t,r){return o(e,n("ogc",t),r)};e.exports={deleteFeaturesByFilter:o,deleteById:i,deleteFeature:function(e,t,r){return i(e,t.features&&1===t.features.length?t.features[0].id:t.id,r)}}},799767:e=>{var t=function(e,t,r){return"<".concat(e?e+":"+t:t,">").concat(Array.isArray(r)?r.join(""):r,"</").concat(e?e+":"+t:t,">")},r=t,n=t;e.exports={insert:function(e,t){return"<".concat(e,":Insert>").concat(Array.isArray(t)?t.join(""):t,"</").concat(e,":Insert>")},feature:n,attribute:r}},199381:e=>{e.exports={transaction:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.wfsNS,o=void 0===n?"wfs":n,i=r.wfsVersion,a=void 0===i?"1.1.0":i;return"<".concat(o,":Transaction ")+'service="WFS" '+'version="'.concat(a,'" ')+"xmlns:".concat(o,'="http://www.opengis.net/wfs" ')+'xmlns:gml="http://www.opengis.net/gml" xmlns:ogc="http://www.opengis.net/ogc" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.opengis.net/wfs" '+"".concat(t,">")+"".concat(Array.isArray(e)?e.join(""):e)+"</".concat(o,":Transaction>")}}},516685:e=>{e.exports={update:function(e,t,r){return"<".concat(e,':Update typeName="').concat(t,'">').concat(Array.isArray(r)?r.join(""):r,"</wfs:Update>")},propertyChange:function(e,t,r){return"<".concat(e,":Property>")+"<".concat(e,":Name>").concat(t,"</").concat(e,":Name>")+"<".concat(e,":Value>").concat(r,"</").concat(e,":Value>")+"</".concat(e,":Property>")}}},62663:e=>{e.exports=function(e,t,r,n){var o=-1,i=null==e?0:e.length;for(n&&i&&(r=e[++o]);++o<i;)r=t(r,e[o],o,e);return r}},887157:(e,t,r)=>{var n=r(640554),o=r(588958);e.exports=function(e,t,r,i){var a=e.length;for((r=n(r))<0&&(r=-r>a?0:a+r),(i=void 0===i||i>a?a:n(i))<0&&(i+=a),i=r>i?0:o(i);r<i;)e[r++]=t;return e}},441761:(e,t,r)=>{var n=r(644239),o=r(637005);e.exports=function(e){return o(e)&&"[object Date]"==n(e)}},210107:e=>{e.exports=function(e,t,r,n,o){return o(e,(function(e,o,i){r=n?(n=!1,e):t(r,e,o,i)})),r}},819873:(e,t,r)=>{var n=r(887157),o=r(816612);e.exports=function(e,t,r,i){var a=null==e?0:e.length;return a?(r&&"number"!=typeof r&&o(e,t,r)&&(r=0,i=a),n(e,t,r,i)):[]}},647960:(e,t,r)=>{var n=r(441761),o=r(307518),i=r(531167),a=i&&i.isDate,u=a?o(a):n;e.exports=u},354061:(e,t,r)=>{var n=r(62663),o=r(989881),i=r(267206),a=r(210107),u=r(701469);e.exports=function(e,t,r){var c=u(e)?n:a,f=arguments.length<3;return c(e,i(t,4),r,f,o)}},588958:(e,t,r)=>{var n=r(829750),o=r(640554);e.exports=function(e){return e?n(o(e),0,4294967295):0}}}]);
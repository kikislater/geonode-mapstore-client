(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[4332],{12248:(r,e,t)=>{"use strict";t.d(e,{Gp:()=>y,lY:()=>b,F4:()=>g,rt:()=>O,d8:()=>P,C0:()=>j,oJ:()=>S,VO:()=>w,E4:()=>h,We:()=>x,F:()=>E,w7:()=>k,u7:()=>T,$R:()=>D,gX:()=>C,Jw:()=>A,I1:()=>I,MC:()=>R,CH:()=>_,YB:()=>U,zU:()=>M,T$:()=>z,d:()=>F,S2:()=>L,DO:()=>N,kG:()=>V,Xe:()=>B,K4:()=>Y,xG:()=>G,tU:()=>J,NM:()=>$,S$:()=>H,Nc:()=>W,ES:()=>X,Kg:()=>Z});var n=t(22222),o=t(227361),i=t.n(o),u=t(957557),c=t.n(u),l=t(478718),a=t.n(l),s=t(800827),f=t(658422),d=t(688182);function v(r){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},v(r)}function p(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),t.push.apply(t,n)}return t}function m(r){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?p(Object(t),!0).forEach((function(e){var n,o,i,u;n=r,o=e,i=t[e],u=function(r,e){if("object"!=v(r)||!r)return r;var t=r[Symbol.toPrimitive];if(void 0!==t){var n=t.call(r,"string");if("object"!=v(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(o),(o="symbol"==v(u)?u:String(u))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):p(Object(t)).forEach((function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(t,e))}))}return r}var y=function(r){return r.contextcreator&&r.contextcreator.newContext},b=(0,n.P1)(y,(function(r){return r&&r.mapConfig})),g=function(r){return r.contextcreator&&r.contextcreator.stepId},O=function(r){return r.contextcreator&&r.contextcreator.resource},P=function(r){return r.contextcreator&&r.contextcreator.mapViewerLoaded},j=function(r){return r.contextcreator&&r.contextcreator.showReloadConfirm},S=function(r){return r.contextcreator&&r.contextcreator.showDialog},w=function(r){return r.contextcreator&&r.contextcreator.loading},h=function(r){return r.contextcreator&&r.contextcreator.loadFlags},x=function(r){return r.contextcreator&&r.contextcreator.isValidContextName},E=function(r){return r.contextcreator&&r.contextcreator.contextNameChecked},k=function(r){return r.contextcreator&&r.contextcreator.plugins},T=function(r){return r.contextcreator&&r.contextcreator.initialEnabledPlugins},D=function(r){return r.contextcreator&&r.contextcreator.editedPlugin},C=function(r){return r.contextcreator&&r.contextcreator.editedCfg},A=function(r){return r.contextcreator&&r.contextcreator.parsedCfg},I=function(r){return r.contextcreator&&r.contextcreator.cfgError},R=function(r){return i()(r,"contextcreator.validationStatus",!0)},_=function(r){return r.contextcreator&&r.contextcreator.parsedTemplate},U=function(r){return r.contextcreator&&r.contextcreator.fileDropStatus},M=function(r){var e;return null===(e=r.contextcreator)||void 0===e?void 0:e.templates},z=function(r){return r.contextcreator&&r.contextcreator.editedTemplate},K=function(r){return r.contextcreator&&r.contextcreator.filterText},F=(0,n.P1)(K,(function(r){return i()(r,"availablePlugins")})),L=(0,n.P1)(K,(function(r){return i()(r,"enabledPlugins")})),N=(0,n.P1)(K,(function(r){return i()(r,"availableTemplates")})),V=(0,n.P1)(K,(function(r){return i()(r,"enabledTemplates")})),B=function(r){return i()(r,"contextcreator.showBackToPageConfirmation",!1)},Y=function(r){var e;return null===(e=r.contextcreator)||void 0===e?void 0:e.tutorials},G=function(r){return function(e){var t,n;return(null===(t=e.contextcreator)||void 0===t||null===(n=t.wasTutorialShown)||void 0===n?void 0:n[r])||!1}},J=function(r){var e;return null===(e=r.contextcreator)||void 0===e?void 0:e.tutorialStep},$=function(r){return i()(r,"contextcreator.selectedTheme")},H=function(r){return i()(r,"contextcreator.customVariablesEnabled",!1)},W=function(r){var e;return"new"===(null===(e=r.contextcreator)||void 0===e?void 0:e.contextId)},X=function(r){return i()(r,"contextcreator.prefetchedData",{})},Z=function(r){var e=(0,s.Od)(r)?(0,f.e_)(r):{},t=k(r),n=y(r),o=O(r),i=M(r),u=(0,d.r)(t).filter((function(r){return r.enabled})).map((function(r){return"MapTemplates"===r.name?m(m({},r),{},{pluginConfig:m(m({},r.pluginConfig),{},{cfg:m(m({},r.pluginConfig.cfg||{}),{},{allowedTemplates:i.filter((function(r){return r.enabled})).map((function(r){return a()(r,"id")}))})})}):r})),l=(0,d.Z)(u.filter((function(r){return!r.isUserPlugin}))),v=(0,d.Z)(u.filter((function(r){return r.isUserPlugin}))),p=$(r),b=H(r),g=m(m({},n),{},{mapConfig:e,theme:p,customVariablesEnabled:b,plugins:{desktop:l},userPlugins:v});return o&&o.id?m(m({},c()(o,"name","description")),{},{data:g,metadata:{name:o&&o.name,description:o.description}}):{category:"CONTEXT",data:g,metadata:{name:o&&o.name}}}},688182:(r,e,t)=>{"use strict";t.d(e,{Z:()=>s,r:()=>f});var n=t(957557),o=t.n(n),i=t(385564),u=t.n(i);function c(r){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},c(r)}function l(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),t.push.apply(t,n)}return t}function a(r){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?l(Object(t),!0).forEach((function(e){var n,o,i,u;n=r,o=e,i=t[e],u=function(r,e){if("object"!=c(r)||!r)return r;var t=r[Symbol.toPrimitive];if(void 0!==t){var n=t.call(r,"string");if("object"!=c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(o),(o="symbol"==c(u)?u:String(u))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(t,e))}))}return r}var s=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((function(r){return a(a({},r.pluginConfig),r.isUserPlugin?{active:r.active}:{})}))},f=function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return u()(e.map((function(e){return[o()(e,"children")].concat(e.enabled?r(e.children):[])})))}},482100:(r,e,t)=>{"use strict";t.d(e,{ez:()=>X,il:()=>W,cF:()=>tr,iV:()=>Q,Il:()=>or,sY:()=>ir,hs:()=>ar,sF:()=>sr,oS:()=>rr,yK:()=>q,uu:()=>Y,YR:()=>lr,fg:()=>N,Yj:()=>B,HG:()=>V,UU:()=>G,l_:()=>nr,L4:()=>H,V$:()=>Z,km:()=>$,Bs:()=>J});var n=t(800827),o=t(658422),i=t(675110);function u(r){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},u(r)}var c=["map"];function l(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),t.push.apply(t,n)}return t}function a(r){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?l(Object(t),!0).forEach((function(e){var n,o,i,c;n=r,o=e,i=t[e],c=function(r,e){if("object"!=u(r)||!r)return r;var t=r[Symbol.toPrimitive];if(void 0!==t){var n=t.call(r,"string");if("object"!=u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(o),(o="symbol"==u(c)?c:String(c))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(t,e))}))}return r}var s=t(552259),f=t(866113),d=t(367306),v=t(401757),p=t(535721),m=t(452992),y=t(957557),b=t.n(y),g=t(701469),O=t.n(g),P=t(513218),j=t.n(P),S=t(618446),w=t.n(S),h=t(478718),x=t.n(h),E=t(441609),k=t.n(E),T=t(227361),D=t.n(T),C=t(12248);function A(r){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},A(r)}var I=["mapConfig"],R=["data"],_=["maps"];function U(r){return function(r){if(Array.isArray(r))return M(r)}(r)||function(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(r)||function(r,e){if(r){if("string"==typeof r)return M(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?M(r,e):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(r,e){(null==e||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function z(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),t.push.apply(t,n)}return t}function K(r){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?z(Object(t),!0).forEach((function(e){F(r,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):z(Object(t)).forEach((function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(t,e))}))}return r}function F(r,e,t){var n;return n=function(r,e){if("object"!=A(r)||!r)return r;var t=r[Symbol.toPrimitive];if(void 0!==t){var n=t.call(r,"string");if("object"!=A(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(e),(e="symbol"==A(n)?n:String(n))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function L(r,e){if(null==r)return{};var t,n,o=function(r,e){if(null==r)return{};var t,n,o={},i=Object.keys(r);for(n=0;n<i.length;n++)t=i[n],e.indexOf(t)>=0||(o[t]=r[t]);return o}(r,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);for(n=0;n<i.length;n++)t=i[n],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(r,t)&&(o[t]=r[t])}return o}var N=function(r){var e,t,n,o=null==r||null===(e=r.gnresource)||void 0===e?void 0:e.id,i=null==r||null===(t=r.gnresource)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.pk;return o||i},V=function(r){var e,t;return(null==r||null===(e=r.gnresource)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.perms)||[]},B=function(r){var e,t;return(null==r||null===(e=r.gnresource)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.title)||!1},Y=function(r){var e,t;return(null==r||null===(e=r.gnresource)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.abstract)||!1},G=function(r){var e,t;return(null==r||null===(e=r.gnresource)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.thumbnail_url)||!1},J=function(r){var e,t;return(null==r||null===(e=r.gnresource)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.updatingThumbnail)||!1},$=function(r){var e,t;return(null==r||null===(e=r.gnresource)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.thumbnailChanged)||!1},H=function(r){var e;return(null==r||null===(e=r.gnresource)||void 0===e?void 0:e.type)||!1},W=function(r){var e,t,n,o,i=null==r||null===(e=r.gnresource)||void 0===e||null===(t=e.permissions)||void 0===t?void 0:t.canEdit,u=(null==r||null===(n=r.gnresource)||void 0===n||null===(o=n.data)||void 0===o?void 0:o.perms)||[];return i||u.includes("change_resourcebase")},X=function(r){var e,t,n;return null==r||null===(e=r.security)||void 0===e||null===(t=e.user)||void 0===t||null===(n=t.perms)||void 0===n?void 0:n.includes("add_resource")},Z=function(r){var e;return!(null==r||null===(e=r.gnresource)||void 0===e||!e.isNew)},q=function(r){var e;return null==r||null===(e=r.gnresource)||void 0===e?void 0:e.data},Q=function(r){var e;return(null==r||null===(e=r.gnresource)||void 0===e?void 0:e.compactPermissions)||{}},rr=function(r){var e,t,n,o=null==r||null===(e=r.gnresource)||void 0===e?void 0:e.compactPermissions,i=null==r||null===(t=r.gnresource)||void 0===t?void 0:t.isCompactPermissionsChanged,u=null==r||null===(n=r.gnresource)||void 0===n?void 0:n.geoLimits;return{compactPermissions:(i||(null==u?void 0:u.length)>0)&&o?o:null,geoLimits:(null==u?void 0:u.length)>0?u:null}},er=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return r&&(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).some((function(e){return r.info.groups.some((function(r){return r===e.name}))&&"manage"===e.permissions}))||!1},tr=function(r){return V(r).includes("change_resourcebase_permissions")},nr=function(r){var e;return null==r||null===(e=r.gnresource)||void 0===e?void 0:e.selectedLayerPermissions},or=function(r,e){var t;switch(e||(null==r||null===(t=r.gnresource)||void 0===t?void 0:t.type)){case p.P6.MAP:return(0,n.Od)(r)?function(r){var e=(0,i.l2)(r),t=(0,o.e_)(r),n=t.map;return a(a({},function(r,e){if(null==r)return{};var t,n,o=function(r,e){if(null==r)return{};var t,n,o={},i=Object.keys(r);for(n=0;n<i.length;n++)t=i[n],e.indexOf(t)>=0||(o[t]=r[t]);return o}(r,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);for(n=0;n<i.length;n++)t=i[n],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(r,t)&&(o[t]=r[t])}return o}(t,c)),{},{map:a(a({},n),{},{layers:((null==n?void 0:n.layers)||[]).map((function(r){var t=e.find((function(e){return e.id===r.id}));if(t){var n=t.availableStyles;return a(a({},r),{},{availableStyles:n})}return r}))})})}(r):null;case p.P6.GEOSTORY:return(0,f.Kg)(r);case p.P6.DASHBOARD:return(0,v.md)(r);case p.P6.VIEWER:var u=((0,C.Kg)(r)||{}).data||{};return u.mapConfig,L(u,I)||{};default:return null}},ir=function(r,e){var t,n=e||(null==r||null===(t=r.gnresource)||void 0===t?void 0:t.type);return[p.P6.DATASET,p.P6.MAP].includes(n)?null:function(r){var e,t;return(null==r||null===(e=r.gnresource)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.extent)||{}}(r)};function ur(r,e){return O()(r)?r.map((function(r){return ur(r,e)})):j()(r)?Object.keys(b()(r,e)).reduce((function(t,n){return K(K({},t),{},F({},n,ur(r[n],e)))}),{}):r}function cr(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r.crs===e.crs&&Math.abs(r.x-e.x)<1e-12&&Math.abs(r.y-e.y)<1e-12}var lr=function(r){var e,t,n,o=function(r){var e,t=Q(r),n=t.users||[],o=t.groups||[],i=t.organizations||[],u=null==r||null===(e=r.security)||void 0===e?void 0:e.user,c=(u&&n.find((function(r){return r.id===u.pk}))||{}).permissions;return["owner","manage"].includes(c)||er(u,o)||er(u,i)}(r),i=(0,m.s2)(r),u=(0,m.SJ)(r);if(!o||i||u)return null;var c=null==r||null===(e=r.gnresource)||void 0===e?void 0:e.type,l=["title","abstract","data","extent"],a=x()((null==r||null===(t=r.gnresource)||void 0===t?void 0:t.initialResource)||{},l),f=a.data,d=void 0===f?{}:f,v=L(a,R),y=rr(r),g=y.compactPermissions,O=y.geoLimits,P=JSON.parse(JSON.stringify(or(r)||{})),j=b()(null==r||null===(n=r.gnresource)||void 0===n?void 0:n.data,["thumbnail_url","thumbnailChanged","updatingThumbnail"])||{},S=x()(j,l),h=!function(r){var e,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=null==r||null===(e=r.gnresource)||void 0===e?void 0:e.type;if(k()(t)||k()(n))return!0;switch(o){case p.P6.MAP:return(0,s.yq)(ur(t,["extraParams","getFeatureInfo","store","capability","extendedParams","availableStyles","center","zoom","bbox"]),ur(n,["extraParams","getFeatureInfo","store","capability","extendedParams","availableStyles","center","zoom","bbox"]));case p.P6.GEOSTORY:return w()(ur(t,["fontFamilies"]),ur(n,["fontFamilies"]));case p.P6.DASHBOARD:var i=(null==t?void 0:t.widgets)||[],u=i.every((function(r){return"map"!==r.widgetType||!!r.maps})),c=!!((null==n?void 0:n.widgets)||[]).find((function(r){if("map"===r.widgetType){var e,t=i.find((function(e){return e.id===r.id})),n=U(r.maps),o=u?n.every((function(r){var e,n=(null==t||null===(e=t.maps)||void 0===e?void 0:e.find((function(e){return e.mapId===r.mapId})))||{};return cr(null==n?void 0:n.center,null==r?void 0:r.center)})):cr(null==t||null===(e=t.map)||void 0===e?void 0:e.center,n[0].center);return!t||!o}return!1})),l=u?n:K(K({},n),{},{widgets:n.widgets.map((function(r){if(r.maps){var e=r.maps;delete r.maps,r.map=e[0]}return r}))}),a=["bbox","size","center","layouts"],f=u?a:["bbox","size","center","layouts","mapId","dependenciesMap","selectedMapId"];return w()(ur(t,a),ur(l,f))&&!c;case p.P6.VIEWER:return w()(ur(t,["mapConfig"]),ur(n,["mapConfig"]));default:return!0}}(r,d,P),E=!(k()(S)||k()(v)||w()(S,v));return g||O||h||E?{compactPermissions:g,geoLimits:O,resource:E?j:void 0,data:h?P:void 0,resourceType:c,pk:j.pk}:null},ar=function(r){return D()((0,f.Kg)(r),"resources",[]).filter((function(r){var e;return"geonode"===(null==r||null===(e=r.data)||void 0===e?void 0:e.sourceId)})).reduce((function(r,e){return["image","video"].includes(e.type)&&e.id?K(K({},r),{},{documents:[].concat(U(r.documents),[e.id])}):"map"===e.type&&e.id?K(K({},r),{},{maps:[].concat(U(r.maps),[e.id])}):r}),{maps:[],documents:[]})},sr=function(r){return D()((0,d.hS)(r),"widgets",[]).reduce((function(r,e){var t,n,o,i,u=e.maps,c=L(e,_);return u&&"map"===c.widgetType?K(K({},r),{},{maps:[].concat(U(r.maps),U(u.filter((function(r){var e;return!(null==r||null===(e=r.extraParams)||void 0===e||!e.pk)})).map((function(r){return r.extraParams.pk}))))}):"map"===c.widgetType&&null!==(t=c.map)&&void 0!==t&&null!==(n=t.extraParams)&&void 0!==n&&n.pk?K(K({},r),{},{maps:[].concat(U(r.maps),[null===(o=c.map)||void 0===o||null===(i=o.extraParams)||void 0===i?void 0:i.pk])}):r}),{maps:[]})}},452992:(r,e,t)=>{"use strict";t.d(e,{jp:()=>f,WB:()=>d,zL:()=>v,aZ:()=>p,IX:()=>m,SJ:()=>y,s2:()=>b});var n=t(482100),o=t(12530),i=t(653488);function u(r){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},u(r)}function c(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),t.push.apply(t,n)}return t}function l(r){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?c(Object(t),!0).forEach((function(e){var n,o,i,c;n=r,o=e,i=t[e],c=function(r,e){if("object"!=u(r)||!r)return r;var t=r[Symbol.toPrimitive];if(void 0!==t){var n=t.call(r,"string");if("object"!=u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(o),(o="symbol"==u(c)?c:String(c))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(t,e))}))}return r}function a(r){return function(r){if(Array.isArray(r))return s(r)}(r)||function(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(r)||function(r,e){if(r){if("string"==typeof r)return s(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?s(r,e):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(r,e){(null==e||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}var f=function(r,e){var t,n;return((null==r||null===(t=r.resourceservice)||void 0===t||null===(n=t.processes)||void 0===n?void 0:n.find((function(r){var t,n;return(null==r||null===(t=r.resource)||void 0===t?void 0:t.pk)===(null==e||null===(n=e.resource)||void 0===n?void 0:n.pk)&&(null==r?void 0:r.processType)===(null==e?void 0:e.processType)})))||{}).completed},d=function(r){var e,t,o=(0,n.yK)(r);return!!(null==r||null===(e=r.resourceservice)||void 0===e||null===(t=e.downloads)||void 0===t?void 0:t.find((function(r){return(null==r?void 0:r.pk)===(null==o?void 0:o.pk)})))},v=function(r){var e,t=(0,i.BP)(r),n=(null==r||null===(e=r.resourceservice)||void 0===e?void 0:e.downloads)||[];return null==t?void 0:t.reduce((function(r,e){return n.find((function(r){return r.pk===e.pk}))?[].concat(a(r),[l({},e)]):a(r)}),[])},p=function(r){var e,t=(0,i.n)(r),n=(null==r||null===(e=r.resourceservice)||void 0===e?void 0:e.downloads)||[];return null==t?void 0:t.reduce((function(r,e){return n.find((function(r){return r.pk===e.pk}))?[].concat(a(r),[l({},e)]):a(r)}),[])},m=function(r){var e,t,i=(0,n.yK)(r),u=i&&(null==r||null===(e=r.resourceservice)||void 0===e||null===(t=e.processes)||void 0===t?void 0:t.find((function(r){var e;return(null==r||null===(e=r.resource)||void 0===e?void 0:e.pk)===(null==i?void 0:i.pk)&&(null==r?void 0:r.processType)===o.zj.PERMISSIONS_RESOURCE})));return!(!u||null!=u&&u.completed)},y=function(r){var e,t,i=(0,n.yK)(r),u=i&&(null==r||null===(e=r.resourceservice)||void 0===e||null===(t=e.processes)||void 0===t?void 0:t.find((function(r){var e;return(null==r||null===(e=r.resource)||void 0===e?void 0:e.pk)===(null==i?void 0:i.pk)&&(null==r?void 0:r.processType)===o.zj.COPY_RESOURCE})));return!(!u||null!=u&&u.completed)},b=function(r){var e,t,i=(0,n.yK)(r),u=i&&(null==r||null===(e=r.resourceservice)||void 0===e||null===(t=e.processes)||void 0===t?void 0:t.find((function(r){var e;return(null==r||null===(e=r.resource)||void 0===e?void 0:e.pk)===(null==i?void 0:i.pk)&&(null==r?void 0:r.processType)===o.zj.DELETE_RESOURCE})));return!(!u||null!=u&&u.completed)}},653488:(r,e,t)=>{"use strict";t.d(e,{BP:()=>c,n:()=>l,m0:()=>a,ak:()=>s});var n=t(535721);function o(r){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},o(r)}function i(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),t.push.apply(t,n)}return t}function u(r){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?i(Object(t),!0).forEach((function(e){var n,i,u,c;n=r,i=e,u=t[e],c=function(r,e){if("object"!=o(r)||!r)return r;var t=r[Symbol.toPrimitive];if(void 0!==t){var n=t.call(r,"string");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(i),(i="symbol"==o(c)?c:String(c))in n?Object.defineProperty(n,i,{value:u,enumerable:!0,configurable:!0,writable:!0}):n[i]=u})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(t,e))}))}return r}var c=function(r){var e,t,o=(null==r||null===(e=r.gnsearch)||void 0===e?void 0:e.resources)||[],i=(null==r||null===(t=r.resourceservice)||void 0===t?void 0:t.processes)||[],c=o.map((function(r){var e=i.filter((function(e){var t;return(null==e||null===(t=e.resource)||void 0===t?void 0:t.pk)===(null==r?void 0:r.pk)}));return e.length>0?u(u({},r),{},{processes:e}):r}));return(0,n.AU)(c)},l=function(r){var e,t,o,i=(null==r||null===(e=r.gnsearch)||void 0===e||null===(t=e.featuredResources)||void 0===t?void 0:t.resources)||[],c=(null==r||null===(o=r.resourceservice)||void 0===o?void 0:o.processes)||[],l=i.map((function(r){var e=c.filter((function(e){var t;return(null==e||null===(t=e.resource)||void 0===t?void 0:t.pk)===(null==r?void 0:r.pk)}));return e.length>0?u(u({},r),{},{processes:e}):r}));return(0,n.AU)(l)},a=function(r){var e,t=c(r).filter((function(r){return r["@temporary"]})).length;return((null==r||null===(e=r.gnsearch)||void 0===e?void 0:e.total)||0)+t},s=function(r){var e;return null==r||null===(e=r.gnsearch)||void 0===e?void 0:e.facetItems}}}]);